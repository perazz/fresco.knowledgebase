(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{110:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return u}));var a=t(0),i=t.n(a);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=i.a.createContext({}),p=function(e){var n=i.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},b=function(e){var n=p(e.components);return i.a.createElement(s.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},m=i.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,r=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),b=p(t),m=a,u=b["".concat(r,".").concat(m)]||b[m]||d[m]||o;return t?i.a.createElement(u,l(l({ref:n},s),{},{components:t})):i.a.createElement(u,l({ref:n},s))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,r=new Array(o);r[0]=m;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var s=2;s<o;s++)r[s]=t[s];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},160:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/spray_nozzle_coordinates-2f451fa2658d1be6bfad3e8614bb9eec.svg"},161:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/spray_nozzle_viewcone-eba2f6bc75104e714c6243d1165069f2.svg"},162:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/nozzle_cone_geometry-7ece4372e571520aadd5e244b1c04d7b.svg"},83:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return r})),t.d(n,"metadata",(function(){return l})),t.d(n,"toc",(function(){return c})),t.d(n,"default",(function(){return p}));var a=t(3),i=t(7),o=(t(0),t(110)),r={id:"spray-nozzles",title:"Nozzle setup",description:"How to set up nozzle geometry."},l={unversionedId:"spray-nozzles",id:"spray-nozzles",isDocsHomePage:!1,title:"Nozzle setup",description:"How to set up nozzle geometry.",source:"@site/docs/spray-nozzles.md",slug:"/spray-nozzles",permalink:"/fresco.knowledgebase/docs/spray-nozzles",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/spray-nozzles.md",version:"current",sidebar:"docs",previous:{title:"Spray modeling",permalink:"/fresco.knowledgebase/docs/spray"},next:{title:"Gas-jet model",permalink:"/fresco.knowledgebase/docs/spray-gasjet"}},c=[{value:"Nozzle representation",id:"nozzle-representation",children:[]},{value:"Nozzle hole location",id:"nozzle-hole-location",children:[]},{value:"Injection axis direction",id:"injection-axis-direction",children:[]},{value:"Drop size and discharge coefficient",id:"drop-size-and-discharge-coefficient",children:[]},{value:"Spray cone angle",id:"spray-cone-angle",children:[]},{value:"Other parameters",id:"other-parameters",children:[]},{value:"References",id:"references",children:[]}],s={toc:c};function p(e){var n=e.components,r=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,r,{components:n,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"nozzle-representation"},"Nozzle representation"),Object(o.b)("p",null,Object(o.b)("img",{alt:"Docusaurus",src:t(160).default})),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"type(nozzle)")," representation is an input structure that contains information about each injector nozzle location and properties.\nIn the Matlab toolbox, it can be initialized with"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-{octave}"},"nozzle = fresco_nozzle_init();\n")),Object(o.b)("p",null,"and will return a structure containing:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"               drnoz: 0\n               dznoz: 0\n              dthnoz: 0\n              tiltxy: 0\n              tiltxz: 0\n                cone: 0\n               dcone: 0\n                anoz: 0\n                 smr: 0\n                amp0: 0\n    diameterinjector: 0\n")),Object(o.b)("h2",{id:"nozzle-hole-location"},"Nozzle hole location"),Object(o.b)("p",null,"Nozzle hole location is defined by three keywords: ",Object(o.b)("inlineCode",{parentName:"p"},"drnoz"),", ",Object(o.b)("inlineCode",{parentName:"p"},"dznoz"),", ",Object(o.b)("inlineCode",{parentName:"p"},"dthnoz"),". As shown, these quantities describe the ",Object(o.b)("em",{parentName:"p"},"location of the nozzle hole")," in cylindrical coordinates.\nInternally, the nozzle hole is stored as a ",Object(o.b)("inlineCode",{parentName:"p"},"type(vector) :: xinj")," variable. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"drnoz = sqrt(xinj^2+yinj^2)"),": radius of the nozzle hole ","[cm]"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"dznoz = zinj"),": z coordinate of the nozzle hole ","[cm]"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"dthnoz = atan2d(yinj,xinj)"),"; angle in the azimuthal plane ","[degrees]",". Note this quantity is specified in degrees.")),Object(o.b)("p",null,"The relationship between nozzle hole location (in Cartesian coordinates) and these inputs is: "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"xinj = vector(drnoz*cosd(dthnoz),drnoz*sind(dthnoz),dznoz)\n")),Object(o.b)("p",null,"The Matlab toolbox provides a few routines to make these operations a bit simpler. For example, to check ",Object(o.b)("inlineCode",{parentName:"p"},"xinj")," one may run: "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"xinj = fresco_nozzle_xyz(nozzle);\n")),Object(o.b)("p",null,"When the nozzle structure is already part of a FRESCO input structure, one can view the nozzle location, its cone angle and orientation axis, using: "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"[figure_handle] = fresco_plot_nozzle_locations(fresco_input);\n")),Object(o.b)("p",null,"For example, for a diesel sector simulation, the nozzle view may look like: "),Object(o.b)("p",null,Object(o.b)("img",{alt:"Docusaurus",src:t(161).default})),Object(o.b)("div",{className:"admonition admonition-info alert alert--info"},Object(o.b)("div",{parentName:"div",className:"admonition-heading"},Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",{parentName:"h5",className:"admonition-icon"},Object(o.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(o.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(o.b)("div",{parentName:"div",className:"admonition-content"},Object(o.b)("p",{parentName:"div"},"On input, FRESCO will check that the injector nozzle location is sufficiently inside of the finite-volume domain not to cause any issues with the simulation. The simulation will stop otherwise."))),Object(o.b)("h2",{id:"injection-axis-direction"},"Injection axis direction"),Object(o.b)("p",null,"The injection axis direction is not necessarily aligned with the ray that connects the injector center apex ",Object(o.b)("inlineCode",{parentName:"p"},"xA")," and the nozzle hole ",Object(o.b)("inlineCode",{parentName:"p"},"xinj"),".\nIt is defined using two angles from a local spherical coordinate system centered at the nozzle hole: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"tiltxz = ")," the injector's included angle ","[degrees]",". If ",Object(o.b)("inlineCode",{parentName:"li"},"tiltxz=0"),", then, the injection axis is vertically aligned downward along the ",Object(o.b)("em",{parentName:"li"},"z")," axis; if ",Object(o.b)("inlineCode",{parentName:"li"},"tiltxz=90"),", then, the injection axis is horizontal, normal to the ",Object(o.b)("em",{parentName:"li"},"z")," axis."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"tiltxy = ")," the injection axis orientation on the azimuthal plane. A few examples: ",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"tiltxy=0"),": injection directed along positive ",Object(o.b)("inlineCode",{parentName:"li"},"x"),";"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"tiltxy=90"),": injection directed along positive ",Object(o.b)("inlineCode",{parentName:"li"},"y"),".")),"For a 2d-sector case, this parameter is not read in, as axisymmetry is enforced.")),Object(o.b)("p",null,"The injection axis variables are also used to define three principal directions of the injection axis: ",Object(o.b)("em",{parentName:"p"},"axial"),", ",Object(o.b)("em",{parentName:"p"},"normal"),", ",Object(o.b)("em",{parentName:"p"},"other"),". Both ",Object(o.b)("em",{parentName:"p"},"normal")," and ",Object(o.b)("em",{parentName:"p"},"other")," are normal to the axial direction.\nThey're defined as: "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"ea = vector(sind(tiltxz)*cosd(tiltxy),sind(tiltxz)*sind(tiltxy),-cosd(tiltxz))\nen = vector(sind(tiltxz+90.0)*cosd(tiltxy),sind(tiltxz+90.0)*sind(tiltxy),-cosd(tiltxz+90.0))\neo = cross(ea,en)\n")),Object(o.b)("p",null,"They can be viewed in Matlab by running "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"[ea,en,eo] = fresco_nozzle_axes(nozzle);\n")),Object(o.b)("h2",{id:"drop-size-and-discharge-coefficient"},"Drop size and discharge coefficient"),Object(o.b)("p",null,"It is important to specify a correct size at each nozzle hole, because that determines the injection velocity.\nEach FRESCO injection pulse specifies an instantaneous mass flow rate, and the instantaneous injection velocity is computed based on the nozzle hole specifications."),Object(o.b)("p",null,"Nozzle geometry is specified as in the following image:"),Object(o.b)("p",null,Object(o.b)("img",{alt:"Docusaurus",src:t(162).default})),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"anoz [cm2]")," specifies the ",Object(o.b)("em",{parentName:"li"},"geometric")," nozzle area, and it is defined as ",Object(o.b)("inlineCode",{parentName:"li"},"anoz=pi*dnoz^2/4"),". This is necessary to compute the nozzle's discharge coefficient ",Object(o.b)("inlineCode",{parentName:"li"},"cD"),", which affects some spray models."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"smr [cm]")," instead specifies the size of the ",Object(o.b)("em",{parentName:"li"},"fluid")," drops at the nozzle's outflow. This is a very important parameter because it determines the instantaneous injection velocity.")),Object(o.b)("p",null,"Whenever ",Object(o.b)("inlineCode",{parentName:"p"},"anoz")," and ",Object(o.b)("inlineCode",{parentName:"p"},"smr")," are being specified, a ",Object(o.b)("em",{parentName:"p"},"fixed")," nozzle discharge coefficient is internally computed as the ratio between the effective and geometric outflow areas: "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cD = pi*smr^2/anoz\n")),Object(o.b)("p",null,"Optionally, one can employ the ERC nozzle model of ",Object(o.b)("a",{parentName:"p",href:"#1"},"Sarre, Kong, Reitz"),", which computes an instantaneous discharge coefficient based on local flow conditions.\nTo enable this, additional information on the nozzle geometry is needed: namely, the internal nozzle length ",Object(o.b)("inlineCode",{parentName:"p"},"lnoz")," and inflow curvature radius, ",Object(o.b)("inlineCode",{parentName:"p"},"rnoz"),".\nThese parameters can be specified as ",Object(o.b)("em",{parentName:"p"},"optional")," variables, trailing the standard nozzle input, for example:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"     smr 0.006260 \n    amp0 0.000000 \ndiameterinjector 0.000000 \nld_ratio 5.22\nrd_ratio 0.15\n")),Object(o.b)("h2",{id:"spray-cone-angle"},"Spray cone angle"),Object(o.b)("p",null,"Two parameters, ",Object(o.b)("inlineCode",{parentName:"p"},"cone")," and ",Object(o.b)("inlineCode",{parentName:"p"},"dcone"),", are used to specify the spray cone angle model. There are three models currently available: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"CONE_DENSE")," is a standard dense cone, with a fixed cone angle. It is obtained when ",Object(o.b)("inlineCode",{parentName:"p"},"cone==dcone"),", and both have the value of the spray cone angle, in degrees. For example: "),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"  cone 18.000000 \n dcone 18.000000 \n")),Object(o.b)("p",{parentName:"li"},"will lead to a fixed, dense spray cone with 18 degrees extension.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"CONE_DENSE_DYNAMIC")," is again a dense cone, but this time, the dynamic spray angle model by ",Object(o.b)("a",{parentName:"p",href:"#2"},"Reitz and Bracco"),"  will be enabled. With this model, the instantaneous spray angle is specified based on the inner nozzle structure, and the local thermodynamic conditions of the chamber.\nTo enable this model, the user should set again ",Object(o.b)("inlineCode",{parentName:"p"},"cone==dcone"),", but now with a negative value, representing the nozzle's l/d ratio:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"  cone -11.000000 \n dcone -11.000000 \n")),Object(o.b)("p",{parentName:"li"},"Such a setting will enable the dynamic spray cone angle model, with ",Object(o.b)("inlineCode",{parentName:"p"},"ld_ratio=11"),".")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"CONE_HOLLOW")," is a hollow spray cone (empty in the center). It is obtained when ",Object(o.b)("inlineCode",{parentName:"p"},"dcone < cone"),". In this case, only the region of space between ",Object(o.b)("inlineCode",{parentName:"p"},"cone/2")," and ",Object(o.b)("inlineCode",{parentName:"p"},"dcone/2")," will be filled with particles. This model does not support a dynamic angle setting. "),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"  cone 25.000000 \n dcone  5.000000 \n")))),Object(o.b)("h2",{id:"other-parameters"},"Other parameters"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"amp0"),": this parameter is needed by the spray's non-sphericity model (also used by the TAB breakup model). It defines the initial amplitude of the drop's oscillations at the nozzle."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"diameterinjector"),": dummy variable: not currently being used.")),Object(o.b)("h2",{id:"references"},"References"),Object(o.b)("a",{id:"1",href:"https://www.sae.org/publications/technical-papers/content/1999-01-0912/"},"[1] "),"C. von Kuensberg Sarre, S.-C. Kong, R.D. Reitz. Modeling the Effects of Injector Nozzle Geometry on Diesel Sprays. SAE Technical Paper 1999-01-0912, 1999. doi:10.1177/1999-01-0912 .",Object(o.b)("a",{id:"2",href:"https://www.sae.org/publications/technical-papers/content/790494/"},"[2] "),"R.D.Reitz, F.V. Bracco. On the Dependence of Spray Angle and Other Spray Parameters on Nozzle Design and Operating Conditions. SAE Technical Paper 790494, 1979. doi:10.1177/790494 .")}p.isMDXComponent=!0}}]);